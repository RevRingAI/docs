---
title: 'Prompting & Variables'
description: 'Personalize agent conversations with dynamic variables'
icon: 'brackets-curly'
---

Variables enable you to personalize agent prompts and messages with dynamic data. RevRing provides system variables automatically and supports custom variables that you can set through the API or webhooks.

## Variable Types

RevRing supports three types of variables:

- **System Variables**: Automatically provided for every call with contextual information
- **Default Variables**: Static variables you configure on the agent that apply to all calls
- **Dynamic Variables**: Call-specific variables set per outbound call or via pre-call webhook for inbound calls

Variables merge with a priority order: system variables are always preserved, then default variables are applied, and finally dynamic variables override defaults.

## System Variables

System variables are automatically available in every call and provide contextual information about the call itself.

| Variable | Description | Example |
|----------|-------------|---------|
| `{{direction}}` | Whether the call is inbound or outbound | `inbound` or `outbound` |
| `{{user_number}}` | The customer's phone number | `+14155551234` |
| `{{agent_number}}` | Your agent's phone number (caller ID for outbound) | `+12025559999` |
| `{{current_time}}` | Current timestamp when the call starts | `Mon, 25 Nov 2025 14:30:00 GMT (UTC timezone)` |

System variables are always available for you to use in your agent's prompt and first message.

### Example Usage

```
You are a customer service agent.

CALL INFORMATION:
- Call direction: {{direction}}
- Customer phone: {{user_number}}
- Our number: {{agent_number}}
- Current time: {{current_time}}

Greet the customer and provide assistance based on the {{direction}} call context.
```

## Default Variables

Default variables are static values you configure on your agent that apply to every call. These are useful for consistent information like business name, hours, or policies.

### Setting Default Variables

Configure default variables via the [Update Agent API](/api-reference/agents/update):

```bash
curl -X PATCH https://api.revring.ai/v1/agents/agent_123abc \
  -H "x-api-key: YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "defaultVariables": {
      "business_name": "Acme Corp",
      "business_hours": "Monday-Friday 9am-5pm EST",
      "support_email": "support@acme.com"
    }
  }'
```

These variables will be available in your prompt as `{{business_name}}`, `{{business_hours}}`, and `{{support_email}}`.

### Example Prompt with Default Variables

```
You are the receptionist for {{business_name}}.

INFORMATION:
- Business hours: {{business_hours}}
- Support email: {{support_email}}

Answer customer questions about our services and schedule appointments during business hours.
```

## Dynamic Variables

Dynamic variables are set on a per-call basis and override default variables. The method for setting them differs between outbound and inbound calls.

### For Outbound Calls

Set dynamic variables when sending an outbound call via the [Send Call API](/api-reference/calls/send):

```bash
curl -X POST https://api.revring.ai/v1/calls \
  -H "x-api-key: YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "agentId": "agent_123abc",
    "fromNumber": "+12025559999",
    "toNumber": "+14155551234",
    "variables": {
      "customer_name": "John Smith",
      "appointment_time": "2:00 PM today",
      "confirmation_code": "ABC123"
    }
  }'
```

### For Inbound Calls

Set dynamic variables by returning them from your pre-call webhook. See the [Webhooks guide](/platform/webhooks#pre-call-webhooks) for implementation details.

Your webhook receives caller information and returns variables:

```json
{
  "variables": {
    "customer_name": "Sarah Johnson",
    "account_status": "premium",
    "last_order_date": "March 10, 2024"
  }
}
```

## Complete Example

Here's a comprehensive example showing all variable types in action:

### Agent Configuration

**Default Variables** (via API):
```json
{
  "business_name": "Dr. Smith's Dental Office",
  "office_hours": "Monday-Friday 8am-6pm"
}
```

**Prompt**:
```
You are an appointment booking assistant for {{business_name}}.

CALL INFORMATION:
- Call direction: {{direction}}
- Customer phone: {{user_number}}
- Office phone: {{agent_number}}
- Current time: {{current_time}}

OFFICE DETAILS:
- Hours: {{office_hours}}

YOUR TASK:
Help {{customer_name}} schedule a dental appointment.

GREETING:
Start by greeting {{customer_name}} warmly and confirming you're speaking with them at {{user_number}}.

CONVERSATION FLOW:
1. Greet {{customer_name}} and mention you see they're calling from {{user_number}}
2. Ask what type of appointment they need (cleaning, checkup, emergency, etc.)
3. Check their preferred date and time
4. Confirm the appointment details including:
   - Patient name: {{customer_name}}
   - Callback number: {{user_number}}
   - Appointment date and time
   - Type of appointment
5. Let them know they'll receive a confirmation text at {{user_number}}

Keep responses concise and professional. The current time is {{current_time}}, so suggest appropriate appointment slots during {{office_hours}}.
```

**First Message**:
```
Hi {{customer_name}}, this is Alex from {{business_name}}. I see you're calling from {{user_number}}. How can I help you today?
```

### Setting Dynamic Variables

**For outbound calls:**
```bash
curl -X POST https://api.revring.ai/v1/calls \
  -H "x-api-key: YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "agentId": "agent_123abc",
    "fromNumber": "+12025559999",
    "toNumber": "+14155551234",
    "variables": {
      "customer_name": "John Smith"
    }
  }'
```

**For inbound calls** (pre-call webhook response):
```json
{
  "variables": {
    "customer_name": "Sarah Johnson"
  }
}
```

## Working with Timezones

Timezone handling is critical for voice AI agents, especially for appointment booking, scheduling, and time-sensitive conversations. Since the `{{current_time}}` system variable is provided in UTC, you'll need to manage timezones explicitly to ensure your agent communicates in the customer's local time.

### Why Timezones Matter

When discussing appointments or time-sensitive information, customers expect to hear times in their local timezone. Making customers convert from UTC or another timezone creates confusion and poor user experience. Your agent should handle all timezone conversions internally and always communicate in the customer's timezone.

### Recommended Approach

Include timezone information as a dynamic variable and instruct your agent to use it for all time-related conversations.

**For outbound calls**, pass the customer's timezone when initiating the call:

```bash
curl -X POST https://api.revring.ai/v1/calls \
  -H "x-api-key: YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "agentId": "agent_123abc",
    "fromNumber": "+12025559999",
    "toNumber": "+14155551234",
    "variables": {
      "customer_name": "John Smith",
      "customer_timezone": "America/New_York"
    }
  }'
```

**For inbound calls**, return the timezone from your pre-call webhook based on the caller's phone number or CRM data:

```json
{
  "variables": {
    "customer_name": "Sarah Johnson",
    "customer_timezone": "America/Los_Angeles"
  }
}
```

### Prompt Instructions for Timezone Handling

Include clear timezone instructions in your agent's prompt:

```
You are an appointment scheduling assistant.

CURRENT TIME & TIMEZONE:
- System time (UTC): {{current_time}}
- Customer timezone: {{customer_timezone}}

CRITICAL TIMEZONE RULES:
1. ALWAYS communicate times in {{customer_timezone}}
2. NEVER mention UTC or ask the customer to convert times
3. When suggesting appointment times, use the customer's timezone
4. When confirming appointments, state the timezone clearly (e.g., "2 PM Eastern Time")
5. Calculate availability based on {{customer_timezone}}, not UTC

Example: If it's 18:00 UTC and customer_timezone is "America/New_York" (EST, UTC-5), 
tell the customer it's 1:00 PM, not 6:00 PM.

TASK:
Help {{customer_name}} schedule an appointment. All times should be in {{customer_timezone}}.
```

### Timezone Format

Use IANA timezone identifiers (e.g., `America/New_York`, `Europe/London`, `Asia/Tokyo`) rather than abbreviations like "EST" or "PST", as they handle daylight saving time automatically.

Common timezone identifiers:
- **US Eastern**: `America/New_York`
- **US Central**: `America/Chicago`
- **US Mountain**: `America/Denver`
- **US Pacific**: `America/Los_Angeles`
- **UK**: `Europe/London`
- **Central Europe**: `Europe/Paris`
- **India**: `Asia/Kolkata`
- **Australia (Sydney)**: `Australia/Sydney`

### Complete Scheduling Example

```
You are scheduling appointments for {{business_name}}.

TIME CONTEXT:
- Current time (UTC): {{current_time}}
- Customer's timezone: {{customer_timezone}}
- Business timezone: {{business_timezone}}
- Business hours: {{business_hours}} (in {{business_timezone}})

TIMEZONE HANDLING:
- Speak all times in {{customer_timezone}}
- Convert business hours from {{business_timezone}} to {{customer_timezone}} when suggesting slots
- Always confirm the timezone when finalizing appointments

Example conversation:
Agent: "I have availability tomorrow at 2 PM, 3:30 PM, and 5 PM Pacific Time. Which works best for you?"
Customer: "2 PM works"
Agent: "Perfect! I've scheduled you for 2 PM Pacific Time on [date]. You'll receive a confirmation."
```

<Tip>
Store timezone information in your CRM or database linked to phone numbers. This allows your pre-call webhook to automatically provide the correct timezone for inbound calls without manual lookup.
</Tip>

<Note>
For international businesses, always include the timezone name when confirming appointments (e.g., "3 PM Eastern Time") to avoid any confusion, even if you're already speaking in the customer's timezone.
</Note>

## Best Practices

<Tip>
Use descriptive variable names like `customer_name` instead of `name` to avoid confusion when debugging transcripts.
</Tip>

<Note>
System variables like `{{direction}}` and `{{current_time}}` are particularly useful for context-aware prompts that behave differently for inbound vs outbound calls.
</Note>

<Warning>
Dynamic variables override default variables. If you set a default variable and also pass it dynamically, the dynamic value will be used for that call.
</Warning>
